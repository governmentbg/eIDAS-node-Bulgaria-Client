# eIDAS-клиент

## Какво представлява eIDAS клиентът?

Проектът eIDAS-client е примерно решение, което [комуникира](doc/bg/Background_BG.md) с българската услуга за свързване на eIDAS Node.


Решението се състои от две части:

1. **Библиотека** - предоставя функции, необходими за доверителни операции, включително генериране на метаданни на доставчика на услуги, получаване на метаданни на услугата на конектора, генериране на заявка за удостоверяване и валидиране на отговор и обработка.
2. **Уеб услуга** - микроуслуга, която предоставя уеб интерфейс за извършване на SAML специфични операции. Поддържат се публикуване на метаданни на доставчика на услугата, обработка на метаданни на услугата за свързване и изпращане и получаване на заявки за удостоверяване от услугата за свързване.

### Архитектура

Общ преглед на конструкцията и компонентите на клиентския проект eIDAS може да се намери [**тук**](doc/bg/Structure_BG.md).


### API за уеб услуги

Можете да намерите общ преглед на това кои крайни точки предлага клиентската уеб услуга на eIDAS [**тук**](doc/bg/Service-API_BG.md).



### Изграждане и инсталиране на уеб услугата

Необходими дейности за инсталиране и стартиране на клиентската уеб услуга на eIDAS накратко (изисква Java 8):

1. Вземете най-новия изходен код от git
>`git clone https://git.egov.bg/meu/eidas-node-bulgaria/eidas-client/5_25.07.2022.git`

2. Изградете проекта eIDAS-клиент
>`./mvnw clean install`

3. Генерирайте примерни ключове и свързания конфигурационен файл (или създайте свой собствен, вижте [**Конфигурация**](doc/bg/Configuration_BG.md))
>`eidas-client-webapp/src/test/resources/scripts/generateTestConfiguration.sh`

4. Стартирайте уеб услугата
>`java -jar eidas-client-webapp/target/eidas-client-webapp-1.0.0 -SNAPSHOT.war`

5. За да проверите дали приложението е стартирано успешно, отворете URL адреса http://localhost:8889/metadata в браузъра


> За да се използва действително клиентът eidas срещу услугата за тестов конектор, трябва да бъде сключено споразумение за абонамент и публичният ключ за метаданни от генерираното хранилище за ключове трябва да бъде прехвърлен към МЕУ (в случай на генерираната примерна конфигурация /eidas-client- webapp/target/generated-test-conf/sp_metadata.crt)

Можете да намерите по-дълго и по-подробно обяснение как да инсталирате и конфигурирате уеб услугата в [**ръководството за интегратори**](doc/bg/Configuration_BG.md).
